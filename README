currentlyPlaying Version 0.1
by Jeroen Wesbeek <work at osx.eu>
Released under Apache License, Version 2.0
-----------------------------------------------------------------

Usage:	osascript path/to/currentlyPlaying.applescript
	osascript path/to/currentlyPlaying.applescript /path/to/my/image.tiff

The script will return the currently playing track(s) in iTunes
and / or Spotify in the format:
	song by artist

In the rare case that both programs will be playing (for example
iTunes is streaming to an Airport Express while Spotify is
playing locally) the output will be multiline:
	song by artist (Spotify)
	song by artist (iTunes)

When nothing is playing, or when the players are paused, an empty
string will be returned.

In addition to returning information on the currently playing
track, the script will also store the album artwork in a file. By
default this is ~/albumArt.tiff, but but specifying an argument
you are able to change this default path.

When nothing is playing, or a track does not have any artwork
associated to it, the album artwork wil be set to a 1x1 transparent
pixel.

The script is optimized to only update the artwork when the track
has changed. To accomplish this it uses a temporary cache file in
/tmp/albumArt.txt

Geek Tool:
----------
This script is particularly useful when combined and used with
Geektool. You could create a script geeklet, executing the
curentlyPlaying script every 10 seconds to print the currently
playing track(s):
	osascript path/to/currentlyPlaying.applescript

You could then create an image geeklet, reading the image file
from ~/albumArt.tiff (or: /Users/yourname/albumArt.tiff) every
10 seconds.

You can tweak the time, but at the moment I don't see any
performance issues with the 10 second interval and the updates
seem quite responsive to the changing of the tracks as it now
only has a 10 second delay (at max).

Note:
-----
To put the script on github, I saved it as text instead of script.
It does not seem to matter execution wise, but it might be a speed
improvement to save it as script (scpt) before using it in your
setup. To do so, just open the script (click it, or type
'open currentlyPlaying.applescript' in the terminal) and save it
as script (file -> save as -> choose script) and you will be have
the file currentlyPlaying.scpt which you can use the same way as
mentioned above.
